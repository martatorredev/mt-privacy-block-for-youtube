(()=>{"use strict";const e=window.wp.blocks,o=window.wp.i18n,t=window.wp.blockEditor,r=window.wp.components,i=window.ReactJSXRuntime;(0,e.registerBlockType)("mtdev/privacy-youtube-block",{title:(0,o.__)("Privacy YouTube Block","mtdev-privacy-block-for-youtube"),icon:"video-alt3",category:"embed",attributes:{videoUrl:{type:"string",default:""},showPlaceholder:{type:"boolean",default:!0}},edit:({attributes:e,setAttributes:l})=>{const c=(0,t.useBlockProps)();return(0,i.jsxs)("div",{...c,children:[(0,i.jsx)(t.InspectorControls,{children:(0,i.jsx)(r.PanelBody,{title:(0,o.__)("Settings","mtdev-privacy-block-for-youtube"),children:(0,i.jsx)(r.ToggleControl,{label:(0,o.__)("Show placeholder","mtdev-privacy-block-for-youtube"),checked:e.showPlaceholder,onChange:e=>l({showPlaceholder:e})})})}),(0,i.jsx)(r.TextControl,{label:(0,o.__)("YouTube Video URL","mtdev-privacy-block-for-youtube"),value:e.videoUrl,onChange:e=>l({videoUrl:e}),placeholder:(0,o.__)("Enter YouTube video URL","mtdev-privacy-block-for-youtube")})]})},save:({attributes:e})=>{const r=t.useBlockProps.save();if(!e.videoUrl)return(0,i.jsx)("div",{...r,children:(0,o.__)("No video URL provided.","mtdev-privacy-block-for-youtube")});const l=e.videoUrl.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]+)/),c=l?l[1]:null;if(!c)return(0,i.jsx)("div",{...r,children:(0,o.__)("Invalid YouTube URL.","mtdev-privacy-block-for-youtube")});const d=`https://www.youtube-nocookie.com/embed/${c}`;return(0,i.jsx)("div",{...r,children:(0,i.jsx)("iframe",{width:"560",height:"315",src:d,title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}})})();